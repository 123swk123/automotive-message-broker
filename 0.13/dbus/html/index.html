<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.8"/>
<title>automotive-message-broker: Automotive Message Broker DBus API Documentation</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">automotive-message-broker
   &#160;<span id="projectnumber">0.13</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.8 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li class="current"><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
</div><!-- top -->
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Pages</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">Automotive Message Broker DBus API Documentation </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><dl class="section version"><dt>Version</dt><dd>0.13</dd></dl>
<p><a href="../../html/index.html">Back to AMB Documentation Main</a></p>
<h1><a class="anchor" id="intro"></a>
Introduction</h1>
<p>AMB organizes the API into two general interface categories. First the Manager interface (see manager.txt) which includes tools for using the other interfaces. Second is a number of interfaces that represent vehicle data. The latter follows the schema of "org.automotive.DataType" and are contained in verious DBus paths. The DBus paths are generally organized by /{source}/{zone}/DataType. "source" refers to the AMB source that produces the data. "zone" refers to the zone in which the data type is located in the vehicle or "0" for no zone.</p>
<p>The interfaces and data types are documented in <a href="amb.fidl">amb.fidl</a>. Franca IDL tools can be used to generate DBus introspection xml which can be used to generate bindings for your language of choice. These interfaces types map to internal AMB properties. To understand the mappings, see the <a href="ambdbusmappings_8idl.html">mapping documentation</a></p>
<h1><a class="anchor" id="basic_usage"></a>
Basic Recommended Usage</h1>
<p>It is recommended that the Manager interface be used to find the DBus Object that contains the data type you need. This is done through the FindObject() call. It is expected that DBus Object Paths may change and so it is not appropriate to hard code DBus Object Paths.</p>
<p>Here is a pseudo-code example of how the api is to be used:</p>
<div class="fragment"><div class="line">var manager = dbus.interface(<span class="stringliteral">&quot;org.automotive.Manager&quot;</span>, <span class="stringliteral">&quot;/&quot;</span>);</div>
<div class="line"></div>
<div class="line">var speedObjectPaths = manager.FindObject(<span class="stringliteral">&quot;VehicleSpeed&quot;</span>);</div>
<div class="line"></div>
<div class="line">var speedObject = dbus.interface(<span class="stringliteral">&quot;org.automotive.VehicleSpeed&quot;</span>, speedObjectPaths[0]);</div>
<div class="line"></div>
<div class="line">console.log(<span class="stringliteral">&quot;Vehicle Speed: &quot;</span> + speedObject.Speed);</div>
</div><!-- fragment --> <h1><a class="anchor" id="automotive_manager"></a>
Automotive Manager</h1>
<p>Manager is a helper interface for discovering and finding available objects. Manager also helps users look up objects by zone and get additional information about a data type (ieorg.automotive.Manager.ZonesForObjectName). </p>
<h1><a class="anchor" id="zones"></a>
Zones</h1>
<p>'Zone' describes the position in the vehicle where the object is located. The Zone type is a bitfield of values that can be combined to describe a specific location. For example</p>
<div class="fragment"><div class="line">Zone.Front | Zone.Left</div>
</div><!-- fragment --><p>(which is '9') may represent the driver position.</p>
<div class="fragment"><div class="line">enumeration Zone {</div>
<div class="line">  None = 0,</div>
<div class="line">  Front = 1,</div>
<div class="line">  Middle = 1 &lt;&lt; 1,</div>
<div class="line">  Right = 1 &lt;&lt; 2,</div>
<div class="line">  Left = 1 &lt;&lt; 3,</div>
<div class="line">  Rear = 1 &lt;&lt; 4,</div>
<div class="line">  Center = 1 &lt;&lt; 5</div>
<div class="line">}</div>
</div><!-- fragment --><h1><a class="anchor" id="vehicle_property_type"></a>
Vehicle Property Type</h1>
<p>Vehicle Property Type is the common interface which all Data types are derived. This interface is as follows:</p>
<div class="fragment"><div class="line"><span class="keyword">interface </span>VehiclePropertyType {</div>
<div class="line">  attribute Double Time readonly</div>
<div class="line">  attribute Zone Zone readonly</div>
<div class="line">  method <a class="code" href="amb_8fidl.html#aea9b81502a85e8451cb2de497511ce5c">GetHistory</a>(Double beginTime, Double endTime) {</div>
<div class="line">    out{ Dictionary result}</div>
<div class="line">  }</div>
<div class="line">}</div>
</div><!-- fragment --><h1><a class="anchor" id="data_types"></a>
Data types</h1>
<p>The data types try to conform to the [<a href="http://w3c.github.io/automotive-bg/data_spec.html">http://w3c.github.io/automotive-bg/data_spec.html</a> W3C Automotive Business Group Vehicle Data Specification] as much as possible. There are differences in the Zone type, and this vehicle API contains some additional data types that the W3C Business Group has not yet defined. 'Time' also represents relative time in seconds rather than time in ms since epoch (DOMTimeStamp). The names of the attributes are also different because of Web vs. DBus conventions. In this Vehicle API, DBus properties use CamelCase (ie Speed vs speed) vs lowerCamelCase. Units and types are the same where possible.</p>
<p>Also note that many types have been marked "deprecated" and replaced with the W3C version of the type. Deprecated types should not be used in new projects. </p>
</div></div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Sun Jan 11 2015 17:44:20 for automotive-message-broker by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.8
</small></address>
</body>
</html>
